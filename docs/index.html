<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>obrest</title>
	<meta name="description" content="Documentation for obrest">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">obrest</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>obrest</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#obrest---rest-library-for-openbravo-secure-web-services-módule" id="obrest---rest-library-for-openbravo-secure-web-services-módule" style="color: inherit; text-decoration: none;">
					<h1>OBRest - Rest library for openbravo secure web services módule.</h1>
				</a>
				<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
					<h2>Documentation</h2>
				</a>
				<p>You can see the <a href="https://futit.github.io/obrest">code reference here</a></p>
				<a href="#previous-configuration" id="previous-configuration" style="color: inherit; text-decoration: none;">
					<h2>Previous configuration</h2>
				</a>
				<p>You need to set the npm registry and your username and password(base64, username:password) in your ~/.npmrc file.</p>
				<pre><code>registry=https:<span class="hljs-regexp">//</span>repo.futit.cloud<span class="hljs-regexp">/repository/</span>npm-group/
_auth=dXNlcm5hbWU6cGFzc3dvcmQK</code></pre>
				<a href="#run-tests" id="run-tests" style="color: inherit; text-decoration: none;">
					<h2>Run tests</h2>
				</a>
				<p>It&#39;s important to run tests before making changes in the openbravo module.</p>
				<pre><code><span class="hljs-meta">$</span><span class="bash"> yarn <span class="hljs-built_in">test</span></span></code></pre>
				<a href="#release-to-nexus" id="release-to-nexus" style="color: inherit; text-decoration: none;">
					<h2>Release to nexus</h2>
				</a>
				<p>You should increment the version number of the package.json file and run the following commands.</p>
				<pre><code><span class="hljs-variable">$ </span>yarn build
<span class="hljs-variable">$ </span>npm publish</code></pre><p>The repository authentication data is available in the <strong>.npmrc</strong> file at the root of the project.</p>
				<a href="#examples" id="examples" style="color: inherit; text-decoration: none;">
					<h2>Examples</h2>
				</a>
				<a href="#initialize-app" id="initialize-app" style="color: inherit; text-decoration: none;">
					<h3>Initialize app</h3>
				</a>
				<pre><code class="language-jsx"><span class="hljs-keyword">import</span> { OBRest } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;obrest&#x27;</span>;

OBRest.init(<span class="hljs-string">&quot;http://localhost:8080&quot;</span>);</code></pre>
				<a href="#login-with-username-and-password--token" id="login-with-username-and-password--token" style="color: inherit; text-decoration: none;">
					<h3>Login with username and password / token</h3>
				</a>
				<p>The app should be initialized before login</p>
				<pre><code class="language-jsx"><span class="hljs-keyword">await</span> OBRest.loginWithUserAndPassword(<span class="hljs-string">&quot;Openbravo&quot;</span>,<span class="hljs-string">&quot;openbravo&quot;</span>); <span class="hljs-comment">//Make a request to get token</span>

OBRest.loginWithToken(<span class="hljs-string">&quot;your_token&quot;</span>);  <span class="hljs-comment">//only set token</span></code></pre>
				<a href="#create-criterias" id="create-criterias" style="color: inherit; text-decoration: none;">
					<h3>Create criterias</h3>
				</a>
				<p>The user should be logged before get data.</p>
				<pre><code class="language-jsx"><span class="hljs-keyword">let</span> criteria = OBRest.getInstance().createCriteria(<span class="hljs-string">&quot;Product&quot;</span>);

criteria.add(Restriction.equals(<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-string">&quot;Cerveza Lager 0,5L&quot;</span>));

<span class="hljs-comment">//make a request to get the products list</span>
criteria.list();

<span class="hljs-comment">//make a request to get only the first result</span>
criteria.uniqueResult();</code></pre>
				<p><em>Check the code reference for more information about Restrictions</em></p>
				<a href="#createupdate-objects" id="createupdate-objects" style="color: inherit; text-decoration: none;">
					<h3>Create/Update objects</h3>
				</a>
				<p>The user should be logged before create data.</p>
				<pre><code class="language-jsx"><span class="hljs-keyword">let</span> myProduct = {
    <span class="hljs-string">&quot;_entityName&quot;</span>:<span class="hljs-string">&quot;Product&quot;</span>, <span class="hljs-comment">// this field is required.</span>
    <span class="hljs-string">&quot;searchKey&quot;</span>: <span class="hljs-string">&quot;ES/1234&quot;</span>,
    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Test product with OBRest.js&quot;</span>,
    <span class="hljs-string">&quot;description&quot;</span>: <span class="hljs-string">&quot;This is a test product created using OBRest.js&quot;</span>,
    <span class="hljs-string">&quot;uOM&quot;</span>: <span class="hljs-string">&quot;100&quot;</span>,
    <span class="hljs-string">&quot;salesRepresentative&quot;</span>: <span class="hljs-string">&quot;100&quot;</span>,
    <span class="hljs-string">&quot;summaryLevel&quot;</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">&quot;stocked&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;purchase&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;sale&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;productCategory&quot;</span>: <span class="hljs-string">&quot;DC7F246D248B4C54BFC5744D5C27704F&quot;</span>,
    <span class="hljs-string">&quot;volume&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;weight&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;taxCategory&quot;</span>: <span class="hljs-string">&quot;E020A69A1E784DC39BE57C41D6D5DB4E&quot;</span>
} 

<span class="hljs-keyword">let</span> refreshedProduct = <span class="hljs-keyword">await</span> OBRest.getInstance().save(myProduct); <span class="hljs-comment">//this method save the object in openbravo and return a promise with the saved object.</span>


<span class="hljs-comment">// you can save a objects list too</span>
<span class="hljs-keyword">let</span> refreshedProductList = <span class="hljs-keyword">await</span> OBRest.getInstance().saveList([
    myProduct
]); <span class="hljs-comment">//this method save the objects in openbravo and return a promise with the saved list.</span></code></pre>
				<p><em>It is always better to save lists than individual objects</em> </p>
				<a href="#remove-objects" id="remove-objects" style="color: inherit; text-decoration: none;">
					<h3>Remove objects</h3>
				</a>
				<p>The user should be logged before delete data.</p>
				<pre><code class="language-jsx"><span class="hljs-keyword">let</span> myProduct = {
    <span class="hljs-string">&quot;_entityName&quot;</span>:<span class="hljs-string">&quot;Product&quot;</span>, <span class="hljs-comment">// this field is required.</span>
    <span class="hljs-string">&quot;searchKey&quot;</span>: <span class="hljs-string">&quot;ES/1234&quot;</span>,
    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Test product with OBRest.js&quot;</span>,
    <span class="hljs-string">&quot;description&quot;</span>: <span class="hljs-string">&quot;This is a test product created using OBRest.js&quot;</span>,
    <span class="hljs-string">&quot;uOM&quot;</span>: <span class="hljs-string">&quot;100&quot;</span>,
    <span class="hljs-string">&quot;salesRepresentative&quot;</span>: <span class="hljs-string">&quot;100&quot;</span>,
    <span class="hljs-string">&quot;summaryLevel&quot;</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">&quot;stocked&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;purchase&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;sale&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;productCategory&quot;</span>: <span class="hljs-string">&quot;DC7F246D248B4C54BFC5744D5C27704F&quot;</span>,
    <span class="hljs-string">&quot;volume&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;weight&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;taxCategory&quot;</span>: <span class="hljs-string">&quot;E020A69A1E784DC39BE57C41D6D5DB4E&quot;</span>
} 

<span class="hljs-keyword">let</span> refreshedProduct = <span class="hljs-keyword">await</span> OBRest.getInstance().remove(myProduct); <span class="hljs-comment">//this method save the object in openbravo and return a promise with the saved object.</span>


<span class="hljs-comment">// you can remove a objects list too</span>
<span class="hljs-keyword">let</span> refreshedProductList = <span class="hljs-keyword">await</span> OBRest.getInstance().removeList([
    myProduct
]); <span class="hljs-comment">//this method remove the objects in openbravo and return a promise with the removed list.</span></code></pre>
				<p><em>It is always better to remove lists than individual objects</em> </p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_criterion_.html">&quot;<wbr>Criterion&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_obcontext_.html">&quot;OBContext&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_obcriteria_.html">&quot;OBCriteria&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_obobject_.html">&quot;OBObject&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_obrest_.html">&quot;OBRest&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_obrestconfig_.html">&quot;OBRest<wbr>Config&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_obrestutils_.html">&quot;OBRest<wbr>Utils&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_restrictions_.html">&quot;<wbr>Restrictions&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>